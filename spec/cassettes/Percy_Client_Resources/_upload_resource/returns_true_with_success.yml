---
http_interactions:
- request:
    method: post
    uri: http://localhost:3000/api/v1/repos/fotinakis/percy-examples/builds/
    body:
      encoding: UTF-8
      string: '{"data":{"type":"builds","attributes":{"commit-sha":"dcee2857b1e0eeb9e0edef4cd7e2146dc5cf78e2","commit-branch":"master","commit-committed-at":"2015-06-02
        09:33:15 -0700","commit-author-name":"<COMMIT_AUTHOR_NAME>","commit-author-email":"<COMMIT_AUTHOR_EMAIL>","commit-committer-name":"<COMMIT_AUTHOR_NAME>","commit-committer-email":"<COMMIT_AUTHOR_EMAIL>","commit-message":"Bump
        version.","pull-request-number":null}}}'
    headers:
      User-Agent:
      - Faraday v0.9.1
      Accept:
      - "*/*"
      Date:
      - Wed, 03 Jun 2015 17:55:09 GMT
      Content-Type:
      - application/vnd.api+json
      Authorization:
      - Token token="<FILTERED_PERCY_TOKEN>"
  response:
    status:
      code: 201
      message: 'Created '
    headers:
      X-Frame-Options:
      - SAMEORIGIN
      X-Xss-Protection:
      - 1; mode=block
      X-Content-Type-Options:
      - nosniff
      Access-Control-Allow-Origin:
      - "*"
      Access-Control-Allow-Methods:
      - GET, POST, PUT, PATCH, DELETE, OPTIONS
      Access-Control-Allow-Headers:
      - Authorization, Content-Type
      Cache-Control:
      - no-cache, no-store, max-age=0, must-revalidate
      Expires:
      - Thu, 01 Jan 1970 00:00:00 GMT
      Content-Type:
      - application/json; charset=utf-8
      X-Request-Id:
      - 9daaf4dc-dd4d-42a4-a38b-9fefae046293
      X-Runtime:
      - '0.015386'
      Server:
      - WEBrick/1.3.1 (Ruby/2.1.5/2014-11-13)
      Date:
      - Wed, 03 Jun 2015 17:55:09 GMT
      Content-Length:
      - '1532'
      Connection:
      - Keep-Alive
    body:
      encoding: UTF-8
      string: '{"data":{"id":"31431","type":"builds","attributes":{"build-number":3,"state":"pending","is-pull-request":false,"pull-request-number":0,"pull-request-title":null,"approved-at":null,"created-at":"2015-06-03T17:55:09.065Z","updated-at":"2015-06-03T17:55:09.065Z"},"links":{"self":"/api/v1/builds/31431"},"relationships":{"commit":{"links":{"self":"/api/v1/builds/31431/links/commit","related":"/api/v1/builds/31431/commit"},"data":{"type":"commits","id":"3"}},"repo":{"links":{"self":"/api/v1/builds/31431/links/repo","related":"/api/v1/builds/31431/repo"}},"base-build":{"links":{"self":"/api/v1/builds/31431/links/base-build","related":"/api/v1/builds/31431/base-build"},"data":null},"approved-by":{"links":{"self":"/api/v1/builds/31431/links/approved-by","related":"/api/v1/builds/31431/approved-by"}},"snapshots":{"links":{"self":"/api/v1/builds/31431/links/snapshots","related":"/api/v1/builds/31431/snapshots"}},"comparisons":{"links":{"self":"/api/v1/builds/31431/links/comparisons","related":"/api/v1/builds/31431/comparisons"}}},"meta":{"finalize-link":"/api/v1/builds/31431/finalize","approve-link":"/api/v1/builds/31431/approve"}},"included":[{"id":"3","type":"commits","attributes":{"sha":"dcee2857b1e0eeb9e0edef4cd7e2146dc5cf78e2","branch":"master","message":"Bump
        version.","committed-at":"2015-06-02 09:33:15 -0700","author-name":"<COMMIT_AUTHOR_NAME>","committer-name":"<COMMIT_AUTHOR_NAME>","created-at":"2015-06-03T17:55:08.000Z","updated-at":"2015-06-03T17:55:08.000Z"},"links":{"self":"/api/v1/commits/3"},"relationships":{}}]}'
    http_version: 
  recorded_at: Wed, 03 Jun 2015 17:55:09 GMT
- request:
    method: post
    uri: http://localhost:3000/api/v1/builds/31431/snapshots/
    body:
      encoding: UTF-8
      string: '{"data":{"type":"snapshots","attributes":{"name":"homepage"},"relationships":{"resources":{"data":[{"type":"resources","id":"7509e5bda0c762d2bac7f90d758b5b2263fa01ccbc542ab5e3df163be08e6ca9","attributes":{"resource-url":"/foo/test.html","mimetype":null,"is-root":true}}]}}}}'
    headers:
      User-Agent:
      - Faraday v0.9.1
      Accept:
      - "*/*"
      Date:
      - Wed, 03 Jun 2015 17:55:09 GMT
      Content-Type:
      - application/vnd.api+json
      Authorization:
      - Token token="<FILTERED_PERCY_TOKEN>"
  response:
    status:
      code: 201
      message: 'Created '
    headers:
      X-Frame-Options:
      - SAMEORIGIN
      X-Xss-Protection:
      - 1; mode=block
      X-Content-Type-Options:
      - nosniff
      Access-Control-Allow-Origin:
      - "*"
      Access-Control-Allow-Methods:
      - GET, POST, PUT, PATCH, DELETE, OPTIONS
      Access-Control-Allow-Headers:
      - Authorization, Content-Type
      Cache-Control:
      - no-cache, no-store, max-age=0, must-revalidate
      Expires:
      - Thu, 01 Jan 1970 00:00:00 GMT
      Content-Type:
      - application/json; charset=utf-8
      X-Request-Id:
      - 0f0ade8f-0d47-4eb7-97e8-c1de8f117907
      X-Runtime:
      - '0.028199'
      Server:
      - WEBrick/1.3.1 (Ruby/2.1.5/2014-11-13)
      Date:
      - Wed, 03 Jun 2015 17:55:09 GMT
      Content-Length:
      - '1574'
      Connection:
      - Keep-Alive
    body:
      encoding: UTF-8
      string: '{"data":{"id":"29","type":"snapshots","attributes":{"name":"homepage","created-at":"2015-06-03T17:55:09.085Z","updated-at":"2015-06-03T17:55:09.085Z","finished-processing-at":null},"links":{"self":"/api/v1/snapshots/29"},"relationships":{"build":{"links":{"self":"/api/v1/snapshots/29/links/build","related":"/api/v1/snapshots/29/build"}},"screenshots":{"links":{"self":"/api/v1/snapshots/29/links/screenshots","related":"/api/v1/snapshots/29/screenshots"}},"resources":{"links":{"self":"/api/v1/snapshots/29/links/resources","related":"/api/v1/snapshots/29/resources"},"data":[{"type":"resources","id":"7509e5bda0c762d2bac7f90d758b5b2263fa01ccbc542ab5e3df163be08e6ca9"}]},"missing-resources":{"links":{"self":"/api/v1/snapshots/29/links/missing-resources","related":"/api/v1/snapshots/29/missing-resources"},"data":[{"type":"resources","id":"7509e5bda0c762d2bac7f90d758b5b2263fa01ccbc542ab5e3df163be08e6ca9"}]}}},"included":[{"id":"7509e5bda0c762d2bac7f90d758b5b2263fa01ccbc542ab5e3df163be08e6ca9","type":"resources","attributes":{"is-root":true,"resource-url":"http://localhost/foo/test.html","mimetype":"text/html","uploaded-at":null,"created-at":"2015-06-03T17:55:09.000Z","updated-at":"2015-06-03T17:55:09.000Z"},"links":{"self":"/api/v1/resources/7509e5bda0c762d2bac7f90d758b5b2263fa01ccbc542ab5e3df163be08e6ca9"},"relationships":{"snapshot":{"links":{"self":"/api/v1/resources/7509e5bda0c762d2bac7f90d758b5b2263fa01ccbc542ab5e3df163be08e6ca9/links/snapshot","related":"/api/v1/resources/7509e5bda0c762d2bac7f90d758b5b2263fa01ccbc542ab5e3df163be08e6ca9/snapshot"}}}}]}'
    http_version: 
  recorded_at: Wed, 03 Jun 2015 17:55:09 GMT
- request:
    method: post
    uri: http://localhost:3000/api/v1/builds/31431/resources/
    body:
      encoding: UTF-8
      string: '{"data":{"type":"resources","attributes":{"id":"7509e5bda0c762d2bac7f90d758b5b2263fa01ccbc542ab5e3df163be08e6ca9","base64-content":"aGVsbG8gd29ybGQh"}}}'
    headers:
      User-Agent:
      - Faraday v0.9.1
      Accept:
      - "*/*"
      Date:
      - Wed, 03 Jun 2015 17:55:09 GMT
      Content-Type:
      - application/vnd.api+json
      Authorization:
      - Token token="<FILTERED_PERCY_TOKEN>"
  response:
    status:
      code: 201
      message: 'Created '
    headers:
      X-Frame-Options:
      - SAMEORIGIN
      X-Xss-Protection:
      - 1; mode=block
      X-Content-Type-Options:
      - nosniff
      Access-Control-Allow-Origin:
      - "*"
      Access-Control-Allow-Methods:
      - GET, POST, PUT, PATCH, DELETE, OPTIONS
      Access-Control-Allow-Headers:
      - Authorization, Content-Type
      Cache-Control:
      - no-cache, no-store, max-age=0, must-revalidate
      Expires:
      - Thu, 01 Jan 1970 00:00:00 GMT
      Content-Type:
      - application/json; charset=utf-8
      X-Request-Id:
      - fabf556e-c36a-4982-bae8-4d3e0eb6f279
      X-Runtime:
      - '0.623360'
      Server:
      - WEBrick/1.3.1 (Ruby/2.1.5/2014-11-13)
      Date:
      - Wed, 03 Jun 2015 17:55:09 GMT
      Content-Length:
      - '16'
      Connection:
      - Keep-Alive
    body:
      encoding: UTF-8
      string: '{"success":true}'
    http_version: 
  recorded_at: Wed, 03 Jun 2015 17:55:09 GMT
- request:
    method: post
    uri: http://localhost:3000/api/v1/builds/31431/resources/
    body:
      encoding: UTF-8
      string: '{"data":{"type":"resources","attributes":{"id":"7509e5bda0c762d2bac7f90d758b5b2263fa01ccbc542ab5e3df163be08e6ca9","base64-content":"aGVsbG8gd29ybGQh"}}}'
    headers:
      User-Agent:
      - Faraday v0.9.1
      Accept:
      - "*/*"
      Date:
      - Wed, 03 Jun 2015 17:55:09 GMT
      Content-Type:
      - application/vnd.api+json
      Authorization:
      - Token token="<FILTERED_PERCY_TOKEN>"
  response:
    status:
      code: 409
      message: 'Conflict '
    headers:
      X-Frame-Options:
      - SAMEORIGIN
      X-Xss-Protection:
      - 1; mode=block
      X-Content-Type-Options:
      - nosniff
      Access-Control-Allow-Origin:
      - "*"
      Access-Control-Allow-Methods:
      - GET, POST, PUT, PATCH, DELETE, OPTIONS
      Access-Control-Allow-Headers:
      - Authorization, Content-Type
      Cache-Control:
      - no-cache, no-store, max-age=0, must-revalidate
      Expires:
      - Thu, 01 Jan 1970 00:00:00 GMT
      Content-Type:
      - application/json; charset=utf-8
      X-Request-Id:
      - 7a0a279e-f6bf-4e7a-9c23-a89c18676b6e
      X-Runtime:
      - '0.007378'
      Server:
      - WEBrick/1.3.1 (Ruby/2.1.5/2014-11-13)
      Date:
      - Wed, 03 Jun 2015 17:55:09 GMT
      Content-Length:
      - '165'
      Connection:
      - Keep-Alive
    body:
      encoding: UTF-8
      string: '{"errors":[{"status":"conflict","detail":"Upload failed, resource with
        SHA-256 ''7509e5bda0c762d2bac7f90d758b5b2263fa01ccbc542ab5e3df163be08e6ca9''
        already exists."}]}'
    http_version: 
  recorded_at: Wed, 03 Jun 2015 17:55:09 GMT
recorded_with: VCR 2.9.3
